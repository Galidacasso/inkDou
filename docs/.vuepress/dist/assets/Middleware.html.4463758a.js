import{_ as l,r as p,o,c as e,a as s,b as F,w as r,F as t,e as c,d as n}from"./app.0316e773.js";const y={},D=c(`<h1 id="\u4E2D\u95F4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u4E2D\u95F4\u4EF6" aria-hidden="true">#</a> \u4E2D\u95F4\u4EF6</h1><p>middleware</p><ol><li>\u7B80\u5316\u548C\u9694\u79BB\u57FA\u7840\u8BBE\u65BD\u4E0E\u4E1A\u52A1\u903B\u8F91\u95F4\u7684\u7EC6\u8282\uFF0C\u8BA9\u5F00\u53D1\u8005\u66F4\u5173\u5FC3\u4E1A\u52A1\uFF0C\u63D0\u9AD8\u5F00\u53D1\u6548\u7387\u3002</li><li>express\u5141\u8BB8\u901A\u8FC7\u4E2D\u95F4\u4EF6\u6765\u8C03\u7528\u7B2C\u4E09\u65B9\u5E93\uFF0C\u5728\u6D4F\u89C8\u5668\u53D1\u8D77\u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u62E6\u622A\u5185\u5BB9\uFF0C\u6700\u7EC8\u7ED9\u8DEF\u7531\u63D0\u4F9B\u670D\u52A1\u3002</li><li>\u4E2D\u95F4\u4EF6\u672C\u8D28\u4E0A\u662F\u4E00\u4E2A\u51FD\u6570\u3002</li></ol><h2 id="\u5185\u7F6E\u4E2D\u95F4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5185\u7F6E\u4E2D\u95F4\u4EF6" aria-hidden="true">#</a> \u5185\u7F6E\u4E2D\u95F4\u4EF6</h2><p>\u5728express 3.x\u7248\u672C\u4E4B\u524D\u6709\u5F88\u591A\u7684\u5185\u7F6E\u4E2D\u95F4\u4EF6,\u4F46\u4ECEexpress 4.x\u7248\u672C\u540E,\u90FD\u5265\u79BB\u6210\u5355\u72EC\u7684npm\u5305,\u53EA\u7559\u4E0B\u4E86\u4E00\u4E2A\u5185\u7F6E\u4E2D\u95F4\u4EF6\u3002</p><table><thead><tr><th>\u540D\u79F0</th><th>\u4F5C\u7528</th><th>\u5907\u6CE8</th></tr></thead><tbody><tr><td>express.static</td><td>\u9759\u6001\u8D44\u6E90\u6258\u7BA1</td><td>\u5411\u5BA2\u6237\u7AEF\u8F93\u51FA\u6307\u5B9A\u76EE\u5F55\u4E0B\u7684\u9759\u6001\u8D44\u6E90</td></tr><tr><td>express.urlencoded</td><td>\u89E3\u6790urlencoded\u683C\u5F0F\u7684\u8BF7\u6C42\u4F53\u6570\u636E</td><td></td></tr><tr><td>express.json</td><td>\u89E3\u6790json\u683C\u5F0F\u7684\u8BF7\u6C42\u4F53\u6570\u636E</td><td></td></tr></tbody></table><h2 id="\u5E94\u7528\u7EA7\u4E2D\u95F4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5E94\u7528\u7EA7\u4E2D\u95F4\u4EF6" aria-hidden="true">#</a> \u5E94\u7528\u7EA7\u4E2D\u95F4\u4EF6</h2><p>\u4E5F\u53EF\u79F0\u4E3A\u81EA\u5B9A\u4E49\u4E2D\u95F4\u4EF6\uFF0C\u662F\u901A\u8FC7 <code>app.use()</code>\u6216<code>app.get()</code>\u6216<code>app.post()</code>\u7ED1\u5B9A\u5230app\u5B9E\u4F8B\u4E0A\u7684\u4E2D\u95F4\u4EF6\u3002</p><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#212121;"><code><span class="line"><span style="color:#EEFFFF;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#EEFFFF;">(url</span><span style="color:#89DDFF;">,(</span><span style="color:#EEFFFF;">req</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;">res</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;">next</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{}</span><span style="color:#EEFFFF;">)</span></span>
<span class="line"></span></code></pre></div><ol><li>url \u8868\u793A\u4F60\u8981\u62E6\u622A\u7684\u8DEF\u7531</li><li>next \u4EE3\u8868\u4E0B\u4E00\u4E2A\u8DEF\u7531\u6216\u4E2D\u95F4\u4EF6</li><li>\u51FD\u6570\u5185\u5BB9\u53EF\u4EE5\u901A\u8FC7next()\u56DE\u8C03</li></ol><p><strong><code>DEMO</code></strong> \u5E94\u7528\u7EA7\u4E2D\u95F4\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#212121;"><code><span class="line"><span style="color:#545454;font-style:italic;">//\u5E94\u7528\u7EA7\u522B\u7684\u5168\u5C40\u4E2D\u95F4\u4EF6</span></span>
<span class="line"><span style="color:#EEFFFF;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#EEFFFF;">(</span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;">req</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;">res</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;">next</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#EEFFFF;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u6211\u662F\u5168\u5C40\u4E2D\u95F4\u4EF6</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#82AAFF;">next</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#EEFFFF;"> jubu </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;">req</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;">res</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;">next</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#EEFFFF;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u6211\u662F\u5C40\u90E8\u4E2D\u95F4\u4EF6</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#82AAFF;">next</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#545454;font-style:italic;">//\u5E94\u7528\u7EA7\u522B\u7684\u5C40\u90E8\u4E2D\u95F4\u4EF6</span></span>
<span class="line"><span style="color:#EEFFFF;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/user</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;">jubu</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;">req</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> res</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#EEFFFF;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u5148\u7ECF\u8FC7\u5C40\u90E8\u4E2D\u95F4\u4EF6\u624D\u6253\u5370\u6211</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#545454;font-style:italic;">//\u5411\u5BA2\u6237\u7AEF\u53D1\u9001JSON\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#EEFFFF;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">doraMiu</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> age</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">20</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> gender</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u5973</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="\u8DEF\u7531\u7EA7\u4E2D\u95F4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u7531\u7EA7\u4E2D\u95F4\u4EF6" aria-hidden="true">#</a> \u8DEF\u7531\u7EA7\u4E2D\u95F4\u4EF6</h2><p>\u8DEF\u7531\u5668\u662F\u7528\u6765\u7BA1\u7406\u8DEF\u7531\u7684\uFF0C\u53EF\u4EE5\u628A\u529F\u80FD\u6A21\u5757\u4E0B\u7684\u6240\u6709\u76F8\u5173\u8DEF\u7531\u6302\u8F7D\u5230\u8DEF\u7531\u5668\u4E0B\uFF0C\u518D\u628A\u8DEF\u7531\u5668\u6CE8\u518C\u5728\u670D\u52A1\u5668\u4E2D\u3002\u7528\u6237\u901A\u8FC7url\u8BBF\u95EE\u8DEF\u7531\u65F6\uFF0C\u4F1A\u5148\u51FA\u53D1\u8DEF\u7531\u5668\uFF0C\u540E\u518D\u53BB\u89E6\u53D1\u76F8\u5BF9\u7684\u8DEF\u7531\u3002</p><h3 id="demo-\u8DEF\u7531\u7EA7\u4E2D\u95F4\u4EF6" tabindex="-1"><a class="header-anchor" href="#demo-\u8DEF\u7531\u7EA7\u4E2D\u95F4\u4EF6" aria-hidden="true">#</a> <strong><code>DEMO</code></strong> <strong>\u8DEF\u7531\u7EA7\u4E2D\u95F4\u4EF6</strong></h3><p>\u76EE\u5F55\u7ED3\u6784\uFF1A</p><ul><li>\u6587\u4EF6\u5939 <ul><li>public <ul><li><a href="#reg">reg.html</a></li></ul></li><li>routes <ul><li><a href="#product">product.js</a></li><li><a href="#user">user.js</a></li></ul></li><li><a href="#app">app.js</a></li></ul></li></ul><h4 id="app" tabindex="-1"><a class="header-anchor" href="#app" aria-hidden="true">#</a> app</h4><p>\u5F15\u5165user\u548Cproduct\u8DEF\u7531</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#212121;"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> express </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">require</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">express</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> app </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">express</span><span style="color:#EEFFFF;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> port </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8080</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EEFFFF;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">listen</span><span style="color:#EEFFFF;">(port</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">()</span><span style="color:#EEFFFF;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#EEFFFF;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">Server Started Port:</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">port</span><span style="color:#89DDFF;">}\`</span><span style="color:#EEFFFF;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EEFFFF;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#EEFFFF;">(express</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">urlencoded</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#F07178;">extended</span><span style="color:#89DDFF;">:</span><span style="color:#EEFFFF;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EEFFFF;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#EEFFFF;">(express</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">static</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">public</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">// \u5F15\u5165\u8DEF\u7531</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> userRouter </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">require</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./routes/user</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> productRouter </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">require</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./routes/product</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">// \u4F7F\u7528\u8DEF\u7531\u5668</span></span>
<span class="line"><span style="color:#545454;font-style:italic;">// \u4E3A\u4E86\u533A\u5206\u8DEF\u7531\u5668,\u6DFB\u52A0\u8DEF\u7531\u5668\u524D\u7F00,\u8BBF\u95EE\u65F6\u9700\u6DFB\u52A0\u524D\u7F00</span></span>
<span class="line"><span style="color:#EEFFFF;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/user</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> userRouter)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#EEFFFF;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/product</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> productRouter)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="product" tabindex="-1"><a class="header-anchor" href="#product" aria-hidden="true">#</a> product</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#212121;"><code><span class="line"><span style="color:#545454;font-style:italic;">// \u5F15\u5165\u5305</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> express </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">require</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">express</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">// \u521B\u5EFA\u8DEF\u7531\u5668\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> router </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> express</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Router</span><span style="color:#EEFFFF;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">// \u6302\u8F7D\u8DEF\u7531\u5230\u8DEF\u7531\u5668\u4E0B</span></span>
<span class="line"><span style="color:#EEFFFF;">router</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/list</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;">req</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;">res</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#EEFFFF;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">ProductList</span><span style="color:#89DDFF;">\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">//\u5BFC\u51FA\u8DEF\u7531\u5668\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> router</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="user" tabindex="-1"><a class="header-anchor" href="#user" aria-hidden="true">#</a> user</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#212121;"><code><span class="line"><span style="color:#545454;font-style:italic;">// \u7528\u6237\u8DEF\u7531\u5668</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span><span style="color:#EEFFFF;"> Router </span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">require</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">express</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> express </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">require</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">express</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">// \u521B\u5EFA\u8DEF\u7531\u5668\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> router </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> express</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Router</span><span style="color:#EEFFFF;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#EEFFFF;"> qs </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">require</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">querystring</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">// \u6302\u8F7D\u8DEF\u7531\u5230\u8DEF\u7531\u5668\u4E0B</span></span>
<span class="line"><span style="color:#EEFFFF;">router</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/list</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;">req</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;">res</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#EEFFFF;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">UserList</span><span style="color:#89DDFF;">\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">// \u7528\u6237\u6CE8\u518C\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#EEFFFF;">router</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">post</span><span style="color:#EEFFFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/reg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,(</span><span style="color:#EEFFFF;">req</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;">res</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#EEFFFF;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">User:</span><span style="color:#89DDFF;">\${</span><span style="color:#EEFFFF;">req</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">body</span><span style="color:#89DDFF;">.</span><span style="color:#EEFFFF;">uname</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">//\u5BFC\u51FA\u8DEF\u7531\u5668\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;"> router</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="reg" tabindex="-1"><a class="header-anchor" href="#reg" aria-hidden="true">#</a> reg</h4><div class="language-html ext-html line-numbers-mode"><pre class="shiki" style="background-color:#212121;"><code><span class="line"><span style="color:#89DDFF;">&lt;!</span><span style="color:#F07178;">DOCTYPE</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">en</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">charset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">UTF-8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">http-equiv</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">X-UA-Compatible</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">content</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">IE=edge</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">viewport</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">content</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">width=device-width, initial-scale=1.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;">\u6CE8\u518C</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;">\u8FD9\u91CC\u662F\u6CE8\u518C\u9875\u9762</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">form</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">action</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/user/reg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">method</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">  \u7528\u6237\u540D\uFF1A</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">uname</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">  \u5BC6\u7801\uFF1A</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">password</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">upwd</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;">\u6CE8\u518C</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">form</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="\u7B2C\u4E09\u65B9\u4E2D\u95F4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u4E09\u65B9\u4E2D\u95F4\u4EF6" aria-hidden="true">#</a> \u7B2C\u4E09\u65B9\u4E2D\u95F4\u4EF6</h2><p>\u7B2C\u4E09\u65B9\u4E2D\u95F4\u4EF6\uFF0C\u9700\u8981\u4F7F\u7528npm\u5305\u7BA1\u7406\u5DE5\u5177\uFF08\u6216\u5176\u4ED6\u7BA1\u7406\u5DE5\u5177\uFF09\u4E0B\u8F7D\u3002<br> \u4F8B\u5982 <strong><code>compression</code></strong> \u4E2D\u95F4\u4EF6\uFF0C\u662F\u4E00\u79CD\u63D0\u4F9B\u8282\u7701\u5E26\u5BBD\u548C\u52A0\u5FEB\u7F51\u7AD9\u901F\u5EA6\u7B80\u5355\u6709\u6548\u7684\u538B\u7F29\u65B9\u6CD5\u3002 \u5B83\u4EC5\u4E0E\u73B0\u4EE3\u6D4F\u89C8\u5668\u517C\u5BB9\u3002</p><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#212121;"><code><span class="line"><span style="color:#EEFFFF;">npm i compression</span></span>
<span class="line"></span></code></pre></div>`,29),i={class:"custom-container tip"},E=s("p",{class:"custom-container-title"},"\u63D0\u793A",-1),u=n("\u5173\u4E8E\u4E2D\u95F4\u4EF6\u7684\u5B89\u88C5\uFF0C\u53EF\u4EE5\u53C2\u8003: "),b=n("npm\u5305\u7BA1\u7406\u5DE5\u5177");function d(m,h){const a=p("RouterLink");return o(),e(t,null,[D,s("div",i,[E,s("p",null,[u,F(a,{to:"/Code/NODEJS/%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7.html"},{default:r(()=>[b]),_:1})])])],64)}var g=l(y,[["render",d],["__file","Middleware.html.vue"]]);export{g as default};
